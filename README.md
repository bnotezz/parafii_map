# Проект: Візуалізація Парафій метрик ДАРО

## Опис проекту

Цей проект створений для візуалізації парафій метричних книг що зберігаються у ДАРО на інтерактивній мапі. Вхідні дані були взяті з каталогу метричних книг ДАРО. Основна ціль проекту - візуально побачити найближчі парафії до певного села.

## Демо вебсайт
[Демонстраційний сайт](https://ostrigparafii.pages.dev/)

## Каталог метричних книг
За допомогою скрипта `metric_catalog_parser.py`, отримуємо з pdf файлу (створений на основі docx, щоб легше визначити номери сторінок) обреблений список парафій та їх метричних книг у файлі `catalog.json`. В Оригінальний docx файл були вненсені ряд виправлень, щоби можна було пропарсити всі книги.


## Географічний показчик

1. **Парсинг**: 
обробляємо файл Географічний покажчик до населених пунктів до Каталогу метричних книг.docx
Витягуємо звідти список поселень за допомогою скрипта `parse_settlements.py` та зберігаємо результат у parsed_settlements.json
2. **Пошук кодів адміністративно-територіальних одиниць**:
Шукаємо коди адміністративно-територіальних одиниць КОАТУУ та КАТОТТГ для населених пунктів. Для цього використовуємо скрипт `find_koatuu_code.py`, що зберігає результат у файл `settlements_locations.json`
Данні беруться з файлу Перехідна таблиця з КОАТУУ на Кодифікатор.csv
3. **Пошук деталей адміністративно-територіальних одиниць**:
Шукаємо детальну інформацію про населені пункти (osm_id) на основі кодів КОАТУУ та КАТОТТГ. Данні беруться з файлу ua-name-places.csv (https://github.com/gontsa/ua-osm-names-of-places)  Для цього використовуємо скрипт `find_settlements_details.py`, що оновлює файл `settlements_locations.json`
4. **Отримання координат**: 
Отримуємо координати поселень за допомогою скрипту `settlements_geocoder.py` який використовує overpass-api.
Координати зберігаються в файл `settlements_locations.json`

## Пошук локацій парафій з каталогу

Співставляємо каталог метричних книг з базою локацій (Географічний покажчик). Результуючий файл зберігаємо в файл `parafii.geojson`. За допомогою скрипта `find_parafii_locations.py`

Для того щоб виконати всі процеси конвертації у коректному порядку за 1 раз, є скрипт `main.py` - який запускє почергово всі кроки конвертації данних.

## Використані технології

- **Nominatim geocoder**: Для отримання географічних координат.
- **GeoJSON**: Для зберігання та обміну географічною інформацією.
- **Leaflet.js**: Для створення інтерактивної мапи.

## Внесок

Будь-які внески до проекту вітаються. Ви можете зробити fork репозиторію та створити pull request з вашими змінами.

## Ліцензія

Цей проект ліцензовано під ліцензією MIT. Деталі можна знайти у файлі `LICENSE`.
