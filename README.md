# Візуалізація парафій метричних книг ДАРО

## Опис проекту

Цей проект призначений для візуалізації парафій з метричних книг, збережених у ДАРО, на інтерактивній мапі. Початкова Ціль проекту – швидко визначати найближчі парафії до вказаного населеного пункту завдяки обробці даних з каталогу метричних книг та географічного покажчика.

## Каталог метричних книг

За допомогою скрипта `metric_catalog_parser.py` здійснюється парсинг PDF файлу (формат створено на основі docx, для покращення визначення номерів сторінок) та генерація файлу `catalog.json`, що містить список парафій із зазначенням їх метричних книг.

## Географічний показчик

Далі треба знайти де ці парафії відобразити на мапі.
1. **Парсинг**  
   Скрипт `parse_settlements.py` обробляє файл «Географічний покажчик до населених пунктів», витягуючи список населених пунктів згаданих у каталозі та зберігаючи його у `parsed_settlements.json`.

2. **Пошук кодів**  
   За допомогою `find_koatuu_code.py` визначаються коди адміністративно-територіальних одиниць на основі вхідних даних з Перехідної таблиці з КОАТУУ на сучасний Кодифікатор, для населених пунктів знайдених на попередньому кроці.

3. **Детальна інформація**  
   Скрипт `find_settlements_details.py` шукає додаткові дані (наприклад, osm_id) для населених пунктів із файлу `ua-name-places.csv` (https://github.com/gontsa/ua-osm-names-of-places).

4. **Отримання координат**  
   Скрипт `settlements_geocoder.py` використовує Overpass API для отримання географічних координат, які зберігаються у файлі `settlements_locations.json`.

## Пошук локацій парафій

За допомогою скрипта `find_parafii_locations.py` здійснюється співставлення каталогу метричних книг із базою локацій, що результатом є файл `parafii.geojson` для відображення на мапі.

## Використані технології

- **Python** – для обробки та конвертації даних.
- **Nominatim geocoder** – для отримання координат населених пунктів.
- **GeoJSON** – для зберігання географічної інформації.
- **Leaflet.js** – для створення інтерактивної мапи.

## Запуск процесу обробки даних

Для автоматизації всіх етапів обробки даних використовується скрипт `main.py`, який послідовно викликає всі необхідні процеси конвертації.

## Внесок

Всі внески до проекту вітаються! Для внесення змін, будь ласка, зробіть fork репозиторію та відкрийте pull request.

## Ліцензія

Цей проект ліцензовано під ліцензією MIT. Деталі знаходяться у файлі [LICENSE](./LICENSE).
